(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(e,n,t){e.exports={Signin:"styles_Signin__1JUDp",Signin__form:"styles_Signin__form__3R7XK",Signin__form__inputContainer:"styles_Signin__form__inputContainer__3q1Vn",Signin__form__inputContainer__input:"styles_Signin__form__inputContainer__input__2cw3k",Signin__form__inputContainer__input_focused:"styles_Signin__form__inputContainer__input_focused__2PTIS",Signin__form__button:"styles_Signin__form__button__3eQjW",Signin__form__button_transparent:"styles_Signin__form__button_transparent__3WDiB"}},,function(e,n,t){e.exports={ImageLinkForm:"styles_ImageLinkForm__Y4fdY",ImageLinkForm__description:"styles_ImageLinkForm__description__359PT",ImageLinkForm__form:"styles_ImageLinkForm__form__1huzL",ImageLinkForm__form_inner:"styles_ImageLinkForm__form_inner__14BgA",ImageLinkForm__form__input:"styles_ImageLinkForm__form__input__2VDGp",ImageLinkForm__form__button:"styles_ImageLinkForm__form__button__3MG3Q",ImageLinkForm__form__button_disabled:"styles_ImageLinkForm__form__button_disabled__1Q3Zg"}},function(e,n,t){e.exports={Logo:"styles_Logo__1Ai6N",Logo__tilt:"styles_Logo__tilt__1brW1",Logo__content:"styles_Logo__content__3pdDO",Logo__content__text:"styles_Logo__content__text__gtCT5"}},function(e,n,t){e.exports={container:"styles_container__1c1c_",Alert:"styles_Alert__1n3gB",Alert__content:"styles_Alert__content__29oFR"}},function(e,n,t){e.exports={FaceRecognition:"styles_FaceRecognition__3BWcI",FaceRecognition__image:"styles_FaceRecognition__image__3MZ8k",FaceRecognition__frame:"styles_FaceRecognition__frame__2t67x"}},,function(e,n,t){e.exports={Background_global:"styles_Background_global__39XZq",Background_local:"styles_Background_local__aR8hF"}},function(e,n,t){e.exports={Navigation:"styles_Navigation__2kFgA",Navigation__link:"styles_Navigation__link__AEkFO"}},function(e,n,t){e.exports={App:"App_App__3-Lwk",App__content:"App_App__content__2zwwr"}},,,,function(e,n,t){e.exports={Rank:"styles_Rank__tSSxN"}},,function(e,n,t){e.exports=t(33)},,,,,,function(e,n,t){},,,,,,,,,,,function(e,n,t){"use strict";t.r(n);var a=t(0),i=t.n(a),o=t(7),r=t.n(o),_=(t(22),t(15)),c=t(2),s=t(12),l=t.n(s),m=t(8),u=t.n(m),g=i.a.memo(function(e){var n=e.isGlobal;return i.a.createElement(l.a,{className:n?u.a.Background_global:u.a.Background_local,params:{particles:{number:{value:80,density:{enable:!0,value_area:800}}}}})}),p=t(9),f=t.n(p);function d(e){var n=e.onRouteChange,t=e.isAuthenticated,a=e.onAuthenticate,o=e.clearSession;return i.a.createElement("nav",{className:f.a.Navigation},t&&i.a.createElement("p",{onClick:function(){o(),a(!1),n("signin"),localStorage.removeItem("user")},className:f.a.Navigation__link},"Sign Out"))}var b=t(13),v=t.n(b),h=t(4),S=t.n(h);function y(){return i.a.createElement("div",{className:S.a.Logo},i.a.createElement(v.a,{className:[S.a.Logo__tilt,"Tilt"].join(" "),options:{max:55},style:{height:150,width:150}},i.a.createElement("div",{className:[S.a.Logo__content,"Tilt-inner"].join(" ")},i.a.createElement("span",{className:S.a.Logo__content__text},"Face"),i.a.createElement("span",{className:S.a.Logo__content__text},"Detector"))))}var E=t(5),N=t.n(E);function k(e){var n=e.content,t=e.disableAlert,a=null,o=n;return o&&("string"!==typeof n&&(o=n.toString()),a=i.a.createElement("div",{className:N.a.container,onClick:function(){t(),a=null}},i.a.createElement("div",{className:N.a.Alert},i.a.createElement("div",{className:N.a.Alert__content},o)))),a}var j=t(3),F=t.n(j);function O(e){var n=e.value,t=e.onChange,a=e.onSubmit,o=!n||0===n.trim().length;return i.a.createElement("div",{className:F.a.ImageLinkForm},i.a.createElement("p",{className:F.a.ImageLinkForm__description},"This app will detect faces in your pictures."),i.a.createElement("div",{className:F.a.ImageLinkForm__form},i.a.createElement("div",{className:F.a.ImageLinkForm__form_inner},i.a.createElement("input",{onChange:t,value:n,type:"text",className:F.a.ImageLinkForm__form__input}),i.a.createElement("button",{className:[F.a.ImageLinkForm__form__button,o?F.a.ImageLinkForm__form__button_disabled:null].join(" "),type:"submit",onClick:o?function(){}:a},"Detect"))))}var C=t(6),L=t.n(C);function w(e){var n=e.src,t=e.frames;return i.a.createElement("div",{className:L.a.FaceRecognition},i.a.createElement("img",{src:n,alt:"",className:L.a.FaceRecognition__image}),t.length>0&&t.map(function(e,n){return i.a.createElement("div",{key:n,className:L.a.FaceRecognition__frame,style:{top:"".concat(100*e.top_row,"%"),left:"".concat(100*e.left_col,"%"),right:"".concat(100-100*e.right_col,"%"),bottom:"".concat(100-100*e.bottom_row,"%")}})}))}var A=t(14),I=t.n(A);function R(e){var n=e.name,t=e.entries;return i.a.createElement("div",{className:I.a.Rank},i.a.createElement("div",null,"Hi ".concat(n,", your rank is")),i.a.createElement("div",null,t))}var x="https://blooming-crag-33992.herokuapp.com",B={signin:"".concat(x,"/signin"),register:"".concat(x,"/register"),updateEntries:"".concat(x,"/image"),imageUrl:"".concat(x,"/imageUrl")};var T={email:function(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())},password:function(e){return e&&e.trim().length>=8},imgUrl:function(e){return e.startsWith("http")},name:function(e){return e&&e.trim().length>0},errors:{name:"Name is not valid",email:"Not valid email",password:"Password should contain 8 or more characters",imgUrl:"The app supports only 'http' or 'https' based urls"}},U=t(1),J=t.n(U);function D(e){var n=e.setUser,t=e.onRouteChange,o=e.onAuthenticate,r=Object(a.useState)(""),_=Object(c.a)(r,2),s=_[0],l=_[1],m=Object(a.useState)("signin"),u=Object(c.a)(m,2),g=u[0],p=u[1],f=Object(a.useState)(""),d=Object(c.a)(f,2),b=d[0],v=d[1],h=Object(a.useState)(""),S=Object(c.a)(h,2),y=S[0],E=S[1],N=Object(a.useState)(""),j=Object(c.a)(N,2),F=j[0],O=j[1],C=Object(a.useState)(""),L=Object(c.a)(C,2),w=L[0],A=L[1];return i.a.createElement("div",{className:J.a.Signin},i.a.createElement(k,{content:w,disableAlert:function(){return A("")}}),i.a.createElement("form",{className:J.a.Signin__form},"register"===g&&i.a.createElement("div",{className:J.a.Signin__form__inputContainer},i.a.createElement("input",{onFocus:function(){return l("name")},onBlur:function(){return l("")},type:"text",name:"name",className:[J.a.Signin__form__inputContainer__input,"name"===s?J.a.Signin__form__inputContainer__input_focused:null].join(" "),placeholder:"Name",value:b,onChange:function(e){return v(e.target.value)}})),i.a.createElement("div",{className:J.a.Signin__form__inputContainer},i.a.createElement("input",{onFocus:function(){return l("email")},onBlur:function(){return l("")},type:"email",name:"email",className:[J.a.Signin__form__inputContainer__input,"email"===s?J.a.Signin__form__inputContainer__input_focused:null].join(" "),placeholder:"Email",value:y,onChange:function(e){return E(e.target.value)}})),i.a.createElement("div",{className:J.a.Signin__form__inputContainer},i.a.createElement("input",{onFocus:function(){return l("password")},onBlur:function(){return l("")},type:"password",name:"password",className:[J.a.Signin__form__inputContainer__input,"password"===s?J.a.Signin__form__inputContainer__input_focused:null].join(" "),placeholder:"Password",value:F,onChange:function(e){return O(e.target.value)}})),i.a.createElement("div",{className:J.a.Signin__form__inputContainer},i.a.createElement("button",{onClick:function(e){if(e.preventDefault(),function(){var e=!0,n=T.email(y),t=T.password(F);return"register"===g&&(e=T.name(b)),n?t?e||A(T.errors.name):A(T.errors.password):A(T.errors.email),e&&n&&t}()){var a={email:y,password:F};"register"===g&&(a.name=b),fetch(B[g],{method:"POST",body:JSON.stringify(a),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){var a;e&&e.id?(a=e,localStorage.setItem("user",JSON.stringify(a)),n(e),t("home"),o(!0)):A(e)}).catch(function(e){A(e)})}},className:J.a.Signin__form__button,type:"submit"},"signin"===g?"Sign in":"Register")),i.a.createElement("div",{className:J.a.Signin__form__inputContainer},i.a.createElement("button",{onClick:function(){return p("signin"===g?"register":"signin")},className:[J.a.Signin__form__button,J.a.Signin__form__button_transparent].join(" "),type:"button"},"signin"===g?"Register":"Sign in"))))}var P=t(10),W=t.n(P);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(function(){var e=Object(a.useState)(""),n=Object(c.a)(e,2),t=n[0],o=n[1],r=Object(a.useState)(""),s=Object(c.a)(r,2),l=s[0],m=s[1],u=Object(a.useState)([]),p=Object(c.a)(u,2),f=p[0],b=p[1],v=Object(a.useState)("signin"),h=Object(c.a)(v,2),S=h[0],E=h[1],N=Object(a.useState)({}),j=Object(c.a)(N,2),F=j[0],C=j[1],L=Object(a.useState)(!1),A=Object(c.a)(L,2),I=A[0],x=A[1],U=Object(a.useState)(""),J=Object(c.a)(U,2),P=J[0],Z=J[1];return Object(a.useEffect)(function(){var e=localStorage.getItem("user");e&&(C(JSON.parse(e)),x(!0),E("home"))},[]),i.a.createElement("div",{className:W.a.App},i.a.createElement(k,{content:P,disableAlert:function(){return Z("")}}),i.a.createElement(g,{isGlobal:!0}),i.a.createElement(d,{onRouteChange:E,isAuthenticated:I,onAuthenticate:x,clearSession:function(){b([]),C({}),o(""),m("")}}),i.a.createElement(y,null),"signin"===S?i.a.createElement(D,{onRouteChange:E,onAuthenticate:x,setUser:C}):i.a.createElement(a.Fragment,null,i.a.createElement("div",{className:W.a.App__content},i.a.createElement(R,{name:F.name,entries:F.entries}),i.a.createElement(O,{onChange:function(e){return o(e.target.value)},value:t,onSubmit:function(){(function(){var e=T.imgUrl(t);return e||Z(T.errors.imgUrl),e})()&&(m(t),b([]),fetch(B.imageUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({input:t})}).then(function(e){return e.json()}).then(function(e){e&&fetch(B.updateEntries,{method:"PUT",body:JSON.stringify({id:F.id}),headers:{"Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e&&C(Object(_.a)({},F,{entries:e}))}).catch(function(e){Z(e)});var n=e.outputs[0].data.regions.map(function(e){return e.region_info.bounding_box});b(n)}).catch(function(e){Z(e)}))}})),i.a.createElement(w,{src:l,frames:f})))},null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[16,2,1]]]);
//# sourceMappingURL=main.c590cbdf.chunk.js.map